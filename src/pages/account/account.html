<ion-header>
    <ion-navbar>
        <ion-title>Account</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <h2>Wie ben ik</h2>
    <p *ngIf="auth.loading" text-center>Loading...</p>
    <ng-template [ngIf]="!auth.loading">
        <!-- Not loading, not logged in: show login button -->
        <button ion-button icon-start block color="primary" *ngIf="!auth.loggedIn" (click)="auth.login()">
            <ion-icon name="unlock"></ion-icon>
            Log In
        </button>
        <!-- Not loading, logged in: show profile and logout button -->
        <ng-template [ngIf]="auth.loggedIn">
            <button ion-button icon-start block color="danger" (click)="auth.logout()">
                <ion-icon name="lock"></ion-icon>
                Log Out
            </button>
            <ion-card *ngIf="auth.user">
                <img [src]="auth.user.picture">
                <ion-card-content>
                    <ion-card-title>{{ auth.user.name }}</ion-card-title>
                    <!--pre>{{ auth.user | json }}</pre-->
                </ion-card-content>
            </ion-card>
        </ng-template>
    </ng-template>
</ion-content>